wb-configs (3.30.0) stable; urgency=medium

  * disable persistence in mosquitto.conf by default

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Mon, 26 Aug 2024 10:52:35 +0500

wb-configs (3.29.0) stable; urgency=medium

  * migrate udev rules installation to wb-prepare.d

 -- Vladimir Romanov <v.romanov@wirenboard.com>  Thu, 08 Aug 2024 16:42:08 +0300

wb-configs (3.28.0) stable; urgency=medium

  * add wb-uart udev rules for wb85x

 -- Vladimir Romanov <v.romanov@wirenboard.com>  Wed, 07 Aug 2024 12:02:01 +0300

wb-configs (3.27.1) stable; urgency=medium

  * nginx: check for broken symlinks in /etc/nginx/sites-enabled

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 05 Aug 2024 13:15:00 +0400

wb-configs (3.27.0) stable; urgency=medium

  * add watchdog service script to check emmc health

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Tue, 23 Jul 2024 12:05:05 +0500

wb-configs (3.26.8) stable; urgency=medium

  * Use mosquitto unix socket for publishing open ports checking results

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Thu, 18 Jul 2024 18:16:51 +0500

wb-configs (3.26.7) stable; urgency=medium

  * nginx: fix proxy_pass for /mqtt

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 15 Jul 2024 13:15:00 +0400

wb-configs (3.26.6) stable; urgency=medium

  * nginx: fix config warning

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 12 Jul 2024 00:30:00 +0400

wb-configs (3.26.5) stable; urgency=medium

  * mosquitto: disabled public websocket 18883 port for security reasons

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Wed, 4 Jul 2024 11:50:00 +0500

wb-configs (3.26.4) stable; urgency=medium

  * nginx: enable gzip compression

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Wed, 3 Jul 2024 12:48:00 +0500

wb-configs (3.26.3) stable; urgency=medium

  * web ui backups: limit number of used cores to half of present in system

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Mon, 1 Jul 2024 0:44:00 +0500

wb-configs (3.26.2) stable; urgency=medium

  * port probe: hide banner on cooldown

 -- Evgeny Boger <boger@wirenboard.com>  Sun, 30 Jun 2024 01:42:07 +0300

wb-configs (3.26.1) stable; urgency=medium

  * fix default wb_security.conf

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Tue, 29 Jun 2024 15:53:18 +0500

wb-configs (3.26.0) stable; urgency=medium

  * add remote probe to check for open ports

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Tue, 25 Jun 2024 21:01:18 +0500

wb-configs (3.25.1) stable; urgency=medium

  * remove debian/source/format file, no functional changes

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Tue, 25 Jun 2024 21:01:18 +0500

wb-configs (3.25.0) stable; urgency=medium

  * add download_configs and download_everything backends

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Tue, 25 Jun 2024 17:43:18 +0500

wb-configs (3.24.0) stable; urgency=medium

  * fwupdate_upload: handle update from cloud ("from_cloud" flag)

 -- Vladimir Romanov <v.romanov@wirenboard.com>  Thu, 23 May 2024 19:34:18 +0300

wb-configs (3.23.1) stable; urgency=medium

  * add UART symlinks on WB8

 -- Evgeny Boger <boger@wirenboard.com>  Fri, 17 May 2024 11:56:10 +0300

wb-configs (3.23.0) stable; urgency=medium

  * add Wiren Board 8 support

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Wed, 13 Mar 2024 20:29:45 +0500

wb-configs (3.22.1) stable; urgency=medium

  * remove openssl config with atecc engine description

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 02 Feb 2024 12:00:00 +0400

wb-configs (3.22.0) stable; urgency=medium

  * Move Wirenboard specific mosquitto configs to /usr/share/wb-configs/mosquitto

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Thu, 25 Jan 2024 09:51:27 +0500

wb-configs (3.21.2) stable; urgency=medium

  * Increase mosquitto max_inflight_messages limit

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Tue, 23 Jan 2024 14:30:57 +0500

wb-configs (3.21.1) stable; urgency=medium

  * fix default Wi-Fi access point configuration with RTL8733BU

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Wed, 20 Dec 2023 11:08:22 +0500

wb-configs (3.21.0) stable; urgency=medium

  * add web update factory reset feature

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Wed, 15 Nov 2023 20:42:00 +0600

wb-configs (3.20.0) stable; urgency=medium

  * add openssl config with atecc engine description

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 21 Nov 2023 17:01:23 +0600

wb-configs (3.19.3) stable; urgency=medium

  * Fix configs overwriting after update using fit

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 17 Nov 2023 10:17:38 +0500

wb-configs (3.19.2) stable; urgency=medium

  * fix_mosquitto.sh: don't move config if .keep file exists

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 26 Oct 2023 18:02:00 +0400

wb-configs (3.19.1) stable; urgency=medium

  * Add fcgiwrap override. Prefork 2 fcgiwrap processes

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Tue, 03 Oct 2023 12:14:12 +0500

wb-configs (3.19.0) stable; urgency=medium

  * Support RTL8733BU

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Thu, 28 Sep 2023 10:49:38 +0500

wb-configs (3.18.12) stable; urgency=medium

  * don't allow serial terminal to change baudrate to 9600

 -- Evgeny Boger <boger@wirenboard.com>  Thu, 21 Sep 2023 17:07:51 +0300

wb-configs (3.18.11) stable; urgency=medium

  * use Wiren Board debian mirror instead of Debian CDN by default

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 21 Aug 2023 18:14:36 +0600

wb-configs (3.18.10) stable; urgency=medium

  * Restore /etc/mosquitto/conf.d folder in .postrm

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 09 Aug 2023 21:30:00 +0400

wb-configs (3.18.9) stable; urgency=medium

  * Get wb-ap SSID prefix from env variable

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 04 Aug 2023 17:15:00 +0400

wb-configs (3.18.8) stable; urgency=medium

  * mosquitto: remove old 1.x configs while upgrading from stretch

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 31 Jul 2023 13:27:00 +0400

wb-configs (3.18.7) stable; urgency=medium

  * Ignore routes to down links

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 28 Jul 2023 08:50:04 +0500

wb-configs (3.18.6) stable; urgency=medium

  * mosquitto: move /etc/mosquitto/conf.d to /mnt/data

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 27 Jul 2023 17:13:00 +0400

wb-configs (3.18.5) stable; urgency=medium

  * Fix deb/changelog

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 25 Jul 2023 20:02:00 +0400

wb-configs (3.18.4) stable; urgency=medium

  * Fix .postinst exit status

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 17 Jul 2023 17:12:00 +0400

wb-configs (3.18.2) stable; urgency=medium

  * Add /bin/ path to tar, mount and umount

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.ru>  Sun, 21 May 2023 12:31:42 +0300

wb-configs (3.18.1) stable; urgency=medium

  * mosquitto: log to syslog instead of file

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 05 Jun 2023 17:14:00 +0400

wb-configs (3.18.0) stable; urgency=medium

  * Add web-update option to expand rootfs from web UI

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Fri, 26 May 2023 15:45:00 +0600

wb-configs (3.17.0) stable; urgency=medium

  * Add discard and noatime mmc mount options

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.com>  Fri, 19 May 2023 10:40:51 +0300

wb-configs (3.16.0) stable; urgency=medium

  * Udev: add ModemManager specific tag ("wbc") to WB-internal modems. mmcli -m wbc could be used to manage the modem

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Thu, 04 May 2023 13:36:12 +0300

wb-configs (3.15.3) stable; urgency=medium

  * Add /usr/lib/systemd/ntp-units.d/10-ntp.list to make timedatectl aware of ntp.service

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 03 Apr 2023 17:15:00 +0400

wb-configs (3.15.2) stable; urgency=medium

  * set Wi-Fi AP channel to 1 explicitly (channels 6 and 13 seems to be
    broken at least on some devices)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 13 Apr 2023 18:16:34 +0600

wb-configs (3.15.1) stable; urgency=medium

  * forbid wb-release-info installation from testing sets

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 12 Apr 2023 12:27:13 +0600

wb-configs (3.15.0) stable; urgency=medium

  * fwupdate_upload: single rootfs update scheme support

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 06 Apr 2023 14:52:00 +0600

wb-configs (3.14.1) stable; urgency=medium

  * do not start ModemManager explicitly if modem is configured via
    /etc/network/interfaces

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 28 Mar 2023 19:10:38 +0600

wb-configs (3.14.0) stable; urgency=medium

  * Add feature to download rootfs archive via web UI

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Tue, 14 Mar 2023 21:14:00 +0600

wb-configs (3.13.1) stable; urgency=medium

  * Add WBGSM_INTERACTIVE env var to /etc/profile.d
  * Unset WBGSM_INTERACTIVE env var in all ppp peers

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Mon, 20 Mar 2023 10:37:28 +0300

wb-configs (3.13.0) stable; urgency=medium

  * add apt pin for Wiren Board experimental repos

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 16 Mar 2023 16:30:51 +0600

wb-configs (3.12.1) stable; urgency=medium

  * Ownership for /var/www/uploads/ is set from wb-configs-early.service (instead of postinst)

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Wed, 15 Mar 2023 10:54:38 +0300

wb-configs (3.12.0) stable; urgency=medium

  * Add /etc/mosquitto/conf.d/30limits.conf

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 14 Mar 2023 14:33:00 +0400

wb-configs (3.11.0) stable; urgency=medium

  * Make /etc/network/interfaces empty by default

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Thu, 09 Mar 2023 17:53:38 +0300

wb-configs (3.10.4) stable; urgency=medium

  * Introduce additional dnsmasq config (/etc/dnsmasq.d/) with "bind-interfaces" option

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Mon, 27 Feb 2023 17:24:19 +0300

wb-configs (3.10.3) stable; urgency=medium

  * 99-wb-modem.rules: SIM800, SIM800C-DS, SIM5300E, SIM7000E are not supported in NM+MM

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Tue, 31 Jan 2023 23:22:18 +0300

wb-configs (3.10.2) stable; urgency=medium

  * Restart dnsmasq on postinstall

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 26 Jan 2023 16:06:00 +0400

wb-configs (3.10.1) stable; urgency=medium

  * debug-network connection: rename; remove gateway and default route

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Tue, 17 Jan 2023 22:55:23 +0300

wb-configs (3.10.0) stable; urgency=medium

  * Add usb-network NM connection: wb-rndis
  * Uncomment "bind-interfaces" option in default dnsmasq config

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Wed, 11 Jan 2023 15:09:12 +0300

wb-configs (3.9.4) stable; urgency=medium

  * Mark WB modem RNDIS as unmanaged via udev (fix external usb0 connections)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 10 Jan 2023 19:44:44 +0600

wb-configs (3.9.3) stable; urgency=medium

  * Backup NetworkManager connections during update using fit

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Tue, 10 Jan 2023 11:43:29 +0500

wb-configs (3.9.2) stable; urgency=medium

  * System load prints load average without conversion to %

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.ru>  Thu, 29 Dec 2022 13:52:43 +0300

wb-configs (3.9.1) stable; urgency=medium

  * Don't restart wb-configs-early.service on systemd unit file install

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 30 Dec 2022 09:24:00 +0400

wb-configs (3.9.0) stable; urgency=medium

  * Move default NetworkManager connections to /usr/lib

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 30 Dec 2022 09:38:05 +0500

wb-configs (3.8.0) stable; urgency=medium

  * Enable wlan1 in NetworkManager

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 28 Dec 2022 16:35:01 +0600

wb-configs (3.7.0) stable; urgency=medium

  * Auto-mount MicroSD to /mnt/sdcard

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 22 Dec 2022 11:14:00 +0400

wb-configs (3.6.0) stable; urgency=medium

  * Add motd banner with system information

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 16 Dec 2022 16:53:00 +0400

wb-configs (3.5.2) stable; urgency=medium

  * Fix NetworkManager access point (wb-ap) SSID

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 19 Dec 2022 13:28:00 +0400

wb-configs (3.5.1) stable; urgency=medium

  * Fix dnsmasq warning when using shared connections in NetworkManager

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 09 Dec 2022 18:22:12 +0500

wb-configs (3.5.0) stable; urgency=medium

  * wrap mosquitto tools into our script to pass UNIX socket by default

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Fri, 28 Oct 2022 18:21:23 +0600

wb-configs (3.4.0) stable; urgency=medium

  * Add Wi-Fi access point and second SIM slot NetworkManager connection profiles

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Thu, 27 Oct 2022 11:17:12 +0500

wb-configs (3.3.0) stable; urgency=medium

  * Fix networking.service symlink in bullseye by removing networking.service.wb
  * Add ExecCondition for hostapd.service (doesn't start if wlanx interface has wpa-ssid)

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.ru>  Mon, 19 Oct 2022 10:47:47 +0300

wb-configs (3.2.3) stable; urgency=medium

  * Set correct access right to NetworkManager connections

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Wed, 12 Oct 2022 12:56:11 +0500

wb-configs (3.2.2) stable; urgency=medium

  * fix network interface user settings applying after updating via fit

 -- Ekaterina Volkova  <ekaterina.volkova@wirenboard.ru>  Mon, 11 Oct 2022 11:23:28 +0300

wb-configs (3.2.1) stable; urgency=medium

  * add apt pin to install wb-release-info from bullseye
  * prefer nodejs from nodesource (switch to bullseye, enable by default)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 10 Oct 2022 11:59:03 +0600

wb-configs (3.2.0) stable; urgency=medium

  * add apt pin to install modemmanager dependencies from backports

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 20 Sep 2022 13:07:32 +0300

wb-configs (3.1.0) stable; urgency=medium

  * Add ModemManager and NetworkManager support

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Mon, 19 Sep 2022 15:48:21 +0500

wb-configs (3.0.2) stable; urgency=medium

  * fix broken debug console login on Wiren Board 7

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 19 Sep 2022 10:46:42 +0300

wb-configs (3.0.1) stable; urgency=medium

  * nginx: change fwupdate-uploading backend from nginx upload module to python cgi

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Mon, 04 Jul 2022 09:37:21 +0300

wb-configs (3.0.0) stable; urgency=medium

  * bullseye build
  * switch to mosquitto 2.0.11-1
  * switch to upstream nginx

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 22 Aug 2022 13:44:28 +0300

wb-configs (2.3.5) stable; urgency=medium

  * don't change baudrate in serial console. Noise on RX pin can make
    agetty change baudrate to lower value (but not back).
    See https://github.com/systemd/systemd/issues/15611 for
    details

 -- Evgeny Boger <boger@contactless.ru>  Wed, 29 Dec 2021 21:49:45 +0300

wb-configs (2.3.4) stable; urgency=medium

  * add wb-configs-stretch pre-dependency on wb-update-manager
  * remove transitional repo settings on successful wb-release invokation.
    These changes should improve stability of upgrade from legacy repository

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 30 May 2022 14:24:55 +0300

wb-configs (2.3.3) stable; urgency=medium

  * added "allow-hotplug" mode to eth0

 -- Vladimir Romanov <v.romanov@wirenboard.ru>  Thu, 10 Feb 2022 19:12:41 +0300

wb-configs (2.3.2) stable; urgency=medium

  * fix wb-watch-configs script to properly handle /etc/network/interfaces

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 09 Feb 2022 17:52:27 +0300

wb-configs (2.3.1) stable; urgency=medium

  * fix race condition on /etc/network/interfaces during boot
    (the reason why Wi-Fi AP may not start properly on WB7 sometimes)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 12 Jan 2022 18:36:52 +0300

wb-configs (2.3.0) stable; urgency=medium

  * add dependency on linux-image-wb7
  * add fw_env.config for wb7

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 08 Dec 2021 22:46:07 +0300

wb-configs (2.2.0) stable; urgency=medium

  * WB7 support

 -- Evgeny Boger <boger@contactless.ru>  Tue, 23 Nov 2021 02:10:12 +0300

wb-configs (2.1.2) stable; urgency=medium

  * Disable client side caching of web-interface's index.html

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Wed, 01 Dec 2021 18:05:42 +0500

wb-configs (2.1.1) stable; urgency=medium

  * remove old legacy sc16is7x2 module load (fix systemd-modules-load.service
    on 5.10.y kernels)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 21 Oct 2021 14:47:01 +0300

wb-configs (2.1.0) stable; urgency=medium

  * add wb-suite to recommends to install it automatically on update

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 03 Aug 2021 15:04:03 +0300

wb-configs (2.0.1) stable; urgency=medium

  * renamed "Wirenboard" to "Wiren Board" in banner

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Fri, 30 Apr 2021 18:13:45 +0300

wb-configs (2.0) stable; urgency=medium

  * remove wheezy support
  * remove old contactless repository; now switching to the new
    deb.wirenboard.com repo with releases. It is not forced by wb-configs
    anymore, a list file is created on rootfs build or by the transitional
    version of wb-configs from the old contactless repo

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Sun, 14 Mar 2021 14:50:01 +0300

wb-configs (1.84.3) stable; urgency=medium

  * use dummy busybox-syslogd trick to replace it safely with rsyslog

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 18 Mar 2021 20:55:58 +0300

wb-configs (1.84.2) stable; urgency=medium

  * do not reboot system if mosquitto or nginx are stopped
  * Support for both rsyslog and busybox-syslogd. One can install rsyslog manually

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Tue, 09 Mar 2021 10:47:00 +0500

wb-configs (1.84.1) stable; urgency=medium

  * Grant write permissions to /var/log/mosquitto to mosquitto user
  * Create /var/log/nginx if not available

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Wed, 03 Mar 2021 18:41:00 +0500

wb-configs (1.84.0) stable; urgency=medium

  * journald persistent logging is enabled
  * busybox-syslogd is replaced by rsyslog in Debian Stretch based installations.
    Log archive is limited to 20MB. Log rotation moved from logrotate to rsyslog's outchannel.

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Mon, 11 Jan 2021 10:17:00 +0500

wb-configs (1.83.5) stable; urgency=medium

  * add e2fsck.conf: broken_system_clock to avoid systemd-fsck switching to emergency mode when the RTC time is invalid

 -- Ivan Zaentsev <ivan.zaentsev@wirenboard.ru>  Tue, 26 Jan 2021 11:35:58 +0300

wb-configs (1.83.4) stable; urgency=medium

  * add 8723bu.conf file to \etc\modprobe.d

 -- Ian Ianin <ianin@wirenboard.ru>  Tue, 27 Oct 2020 13:16:40 +0300

wb-configs (1.83.3) stable; urgency=medium

  * add nodejs repo

 -- Ian Ianin <ianin@wirenboard.ru>  Fri, 09 Oct 2020 12:32:18 +0300

wb-configs (1.83.2) stable; urgency=medium

  * added symlink for i2c on mod4

 -- Vladimir Romanov <v.romanov@contactless.ru>  Fri, 18 Sep 2020 18:02:10 +0300

wb-configs (1.83.1) stable; urgency=medium

  * added systemd service for systime adjustment from dts (ntp-friendly)
  * fixed package configuration error, when there is no /etc/apt/sources.list file

 -- Vladimir Romanov <v.romanov@contactless.ru>  Thu, 10 Sep 2020 11:47:10 +0300

wb-configs (1.83.0) stable; urgency=medium

  * changed UART for wb6.7 gsm modem
  * new UART for wb6-mod4 slot

 -- Vladimir Romanov <v.romanov@contactless.ru>  Thu, 20 Aug 2020 17:10:12 +0300

wb-configs (1.82.3) stable; urgency=medium

  * Added a script to reboot hostapd when the wlan0 interface starts

 -- Ian Ianin <ianin@wirenboard.ru>  Mon, 10 Aug 2020 13:51:32 +0300

wb-configs (1.82.2) stable; urgency=medium

  * wb-configs service backups wb-homa-adc.conf, wb-homa-gpio.conf, wb-mqtt-serial.conf
    and wb-rules configs by moving them to /mnt/data and creating symlinks to original files locations.
    Since 2015 every service which needs to backup its configs can add a file with instructions
    for wb-configs in /etc/wb-configs.d. All services use this new logic for 5 years.
    This update removes obsolete backuping code.
    After renaming new versions of wb-homa-adc and wb-homa-gpio manage themselves symlinks to conf files,
    so the old wb-configs logic breaks they normal operation.

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Mon, 20 Jul 2020 15:44:12 +0500

wb-configs (1.82.1) stable; urgency=medium

  * change upstream debian repository location on stretch

 -- Pavel Poglazov <poglazov@contactless.ru>  Mon, 01 Jun 2020 00:30:01 +0300

wb-configs (1.82.0) stable; urgency=medium

  * move /dev/ttyMOD*, /dev/ttyGSM and /dev/ttyRS485* to dialout group
  * move /dev/ttyCONSOLE to tty group

 -- Evgeny Boger <boger@contactless.ru>  Sun, 05 Apr 2020 23:52:10 +0300

wb-configs (1.81.1) stable; urgency=medium

  * fixed $PYTHONPATH default erasing

 -- Vladimir Romanov <v.romanov@contactless.ru>  Wed, 5 Feb 2020 12:11:34 +0300

wb-configs (1.81.0) stable; urgency=medium

  * add udev rules to create /dev/i2c-modX symlinks

 -- Evgeny Boger <boger@contactless.ru>  Wed, 19 Jun 2019 17:46:21 +0300

wb-configs (1.80) stable; urgency=medium

  * add permanent /dev/ttyUZB file for Z-Wave stick

 -- Pavel Poglazov <poglazov@contactless.ru>  Wed, 29 May 2019 13:46:42 +0300

wb-configs (1.79.5) stable; urgency=medium

  * remove security.debian.org repo for wheezy as it's end-of-life

 -- Evgeny Boger <boger@contactless.ru>  Mon, 08 Apr 2019 18:46:34 +0300

wb-configs (1.79.4) stable; urgency=medium

  * publish host via Avahi/Bonjour

 -- Evgeny Boger <boger@contactless.ru>  Sun, 07 Apr 2019 16:01:27 +0300

wb-configs (1.79.3) stable; urgency=medium

  * preserve user changes of timezone (wb_move_watch for localtime)

 -- Evgeny Boger <boger@contactless.ru>  Thu, 28 Mar 2019 20:35:54 +0300

wb-configs (1.79.2) stable; urgency=medium

  * change upstream debian repository location on Wheezy

 -- Evgeny Boger <boger@contactless.ru>  Mon, 25 Mar 2019 20:51:07 +0300

wb-configs (1.79.1) stable; urgency=medium

  * fix post install script fail on WB5

 -- Evgeny Boger <boger@contactless.ru>  Wed, 06 Feb 2019 17:21:40 +0300

wb-configs (1.79) stable; urgency=medium

  * u-boot env config for fw_setenv is moved to wb-configs from u-boot-tools.
    The reason why it was moved: u-boot-tools(-wb) have nothing to do with
    the actual bootloader, it's just a bunch of tools to work with FITs and
    bootloader environment. U-boot environment location is, in contrast,
    device- and distribution-specific.

 -- Evgeny Boger <boger@contactless.ru>  Fri, 04 Jan 2019 14:52:12 +0300

wb-configs (1.78.1) stable; urgency=medium

  * fix udev rules
  * use new wb-utils 2.0 devicetree compatible helpers instead of WB_VERSION
  * use wb_env from /usr/lib/wb-utils to make sure not-yet-configured wb-utils
    can be used
  * properly removes udev configs at package purge

 -- Evgeny Boger <boger@contactless.ru>  Mon, 31 Dec 2018 16:55:09 +0300

wb-configs (1.78) stable; urgency=medium

  * add proper pining preferences for new unstable and experimental repos
  * add commented-out list file for unstable repo

 -- Evgeny Boger <boger@contactless.ru>  Sun, 30 Dec 2018 17:05:59 +0300

wb-configs (1.77.1) stable; urgency=medium

  * Fix: manually undisplace sshd_config from older wb-configs

 -- Nikita Maslov <n.maslov@contactless.ru>  Fri, 29 Jun 2018 12:37:15 +0300

wb-configs (1.77) stable; urgency=medium

  * Fix dependencies between wb-configs and wb-configs-<releasename>
  * Use systemd services for wb-configs-stretch
  * Use bind mount for /var/log for systemd to work correctly

 -- Nikita Maslov <n.maslov@contactless.ru>  Wed, 13 Jun 2018 14:54:15 +0300

wb-configs (1.76.2) stable; urgency=critical

  * Fix: disable /mnt/data formatting on hard reboot

 -- Nikita Maslov <n.maslov@contactless.ru>  Thu, 28 Jun 2018 12:08:07 +0300

wb-configs (1.76.1) stable; urgency=medium

  * add logrotate conf for /var/log/messages

 -- Attila Door <a.door@contactless.ru>  Sun, 10 Jun 2018 19:03:22 +0300

wb-configs (1.76) stable; urgency=medium

  * disable "Predictable Network Interface Names" on stretch

 -- Evgeny Boger <boger@contactless.ru>  Fri, 01 Jun 2018 22:29:36 +0300

wb-configs (1.75.4) stable; urgency=medium

  * change debian repo url to stable

 -- Evgeny Boger <boger@contactless.ru>  Wed, 28 Mar 2018 15:03:22 +0300

wb-configs (1.75.3) stable; urgency=medium

  * wb-watch-configs moved

 -- Attila Door <a.door@contactless.ru>  Wed, 28 Mar 2018 15:03:22 +0300

wb-configs (1.75.2) stable; urgency=medium

  * add ssh config to displace list

 -- Attila Door <a.door@contactless.ru>  Wed, 21 Mar 2018 15:03:22 +0300

wb-configs (1.75.1) stable; urgency=medium

  * add networking service systemd config to stretch configs

 -- Attila Door <a.door@contactless.ru>  Wed, 21 Mar 2018 15:03:22 +0300

wb-configs (1.75.0) stable; urgency=medium

  * add wb-configs-stretch and wheezy

 -- Attila Door <a.door@contactless.ru>  Sat, 15 Mar 2018 15:03:22 +0300

wb-configs (1.74.4) stable; urgency=medium

  * add /etc/apt/preferences config

 -- Attila Door <a.door@contactless.ru>  Sat, 12 Mar 2018 15:03:22 +0300

wb-configs (1.74.3) stable; urgency=medium

  * linux-image-wb replaced by linux-image-wb2 OR wb6

 -- Attila Door <a.door@contactless.ru>  Sat, 26 Feb 2018 17:03:22 +0300

wb-configs (1.74.2) stable; urgency=medium

  * runlevel 3 is added to init script for systemd support

 -- Attila Door <a.door@contactless.ru>  Sat, 16 Jan 2018 12:03:22 +0300

wb-configs (1.74.1) stable; urgency=medium

  * testing /var/log/messages is removed from watchdog config

 -- Attila Door <a.door@contactless.ru>  Sat, 16 Jan 2018 12:03:22 +0300

wb-configs (1.74.0) stable; urgency=medium

  * sshd config added, /mnt/data is removed from fstab, added at first startup

 -- Attila Door <a.door@contactless.ru>  Sat, 16 Jan 2018 12:03:22 +0300


wb-configs (1.73.1) stable; urgency=medium

  * starts wb-configs init script before networking to avoid possible conflicts

 -- Evgeny Boger <boger@contactless.ru>  Sat, 03 Jun 2017 16:03:22 +0300

wb-configs (1.73) stable; urgency=medium

  * Move out kernel postinst hook to linux-image-$FLAVOUR metapackage

 -- Alexey Ignatov <lexszero@gmail.com>  Mon, 10 Apr 2017 03:07:05 +0300

wb-configs (1.72.1) stable; urgency=medium

  * ttyAPP0 => ttyGSM in configs

 -- Evgeny Boger <boger@contactless.ru>  Fri, 12 May 2017 16:59:32 +0300

wb-configs (1.72) stable; urgency=medium

  * Use wb-set-mac in network pre-up

 -- Alexey Ignatov <lexszero@gmail.com>  Sat, 22 Apr 2017 08:28:12 +0300

wb-configs (1.71) stable; urgency=medium

  * Udev rules for WB6

 -- Evgeny Boger <boger@contactless.ru>  Tue, 28 Mar 2017 20:01:25 +0300

wb-configs (1.70.1) stable; urgency=medium

  * allow Avahi/bonjour/zeroconf on network with .local domains

 -- Evgeny Boger <boger@contactless.ru>  Tue, 21 Mar 2017 19:32:52 +0300

wb-configs (1.70) stable; urgency=medium

  * Make UART symlinks with udev

 -- Alexey Ignatov <lexszero@gmail.com>  Tue, 31 Jan 2017 01:36:45 +0000
wb-configs (1.69.3) stable; urgency=medium

  * Remove hardcoded architecture from apt repository

 -- Yury Usishchev <y.usishchev@contactless.ru>  Mon, 16 Jan 2017 20:59:55 +0300

wb-configs (1.69.2) stable; urgency=medium

  * use watchdog-5.15 and retry-timeout

 -- Yury Usishchev <y.usishchev@contactless.ru>  Mon, 12 Dec 2016 18:58:07 +0400

wb-configs (1.69.1) stable; urgency=medium

  * disable SSHd watchdog check

 -- Evgeny Boger <boger@contactless.ru>  Fri, 18 Nov 2016 17:00:27 +0300

wb-configs (1.69) stable; urgency=medium

  * adds support for 2nd Ethernet on WB5.8

 -- Evgeny Boger <boger@contactless.ru>  Thu, 17 Nov 2016 21:01:32 +0300

wb-configs (1.68) stable; urgency=medium

  * fix default watchdog config

 -- Evgeny Boger <boger@contactless.ru>  Sun, 13 Mar 2016 12:34:40 +0300

wb-configs (1.67) stable; urgency=medium

  * add watchdog config

 -- Alexey Ignatov <lexszero@gmail.com>  Sat, 13 Feb 2016 05:18:11 +0000

wb-configs (1.66) stable; urgency=medium

  * Enable proxying of MQTT websocket to make it accessible via http://host:80/mqtt
  * Enable (optional) global basic auth

 -- Evgeny Boger <boger@contactless.ru>  Fri, 12 Feb 2016 02:17:41 +0300

wb-configs (1.65) stable; urgency=medium

  * move lircd configs to data partition

 -- Evgeny Boger <boger@contactless.ru>  Tue, 09 Feb 2016 13:06:08 +0300

wb-configs (1.64) stable; urgency=medium

  * add wheezy-backports to apt sources

 -- Alexey Ignatov <lexszero@gmail.com>  Thu, 04 Feb 2016 02:45:33 +0000

wb-configs (1.63) stable; urgency=medium

  * fix passing optional second argument for wb_move_*
  * add configfs to /etc/fstab

 -- Alexey Ignatov <lexszero@gmail.com>  Thu, 21 Jan 2016 18:52:24 +0000

wb-configs (1.62) stable; urgency=medium

  * disable hardware flow control in ppp configs
  * add gammu config
  * add minicom configs for WB5 RS-485 ports

 -- Evgeny Boger <boger@contactless.ru>  Thu, 14 Jan 2016 17:22:39 +0300

wb-configs (1.61) stable; urgency=medium

  * add file change monitor for /etc/{passwd,shadow,group,gshadow}

 -- Alexey Ignatov <lexszero@gmail.com>  Thu, 17 Dec 2015 02:19:59 +0000

wb-configs (1.60.3) stable; urgency=medium

  * add lirc config

 -- Evgeny Boger <boger@contactless.ru>  Mon, 07 Dec 2015 05:53:44 +0300

wb-configs (1.60.2) stable; urgency=medium

  * add zabbix agent config

 -- Evgeny Boger <boger@contactless.ru>  Tue, 24 Nov 2015 15:17:08 +0300

wb-configs (1.60.1) stable; urgency=medium

  *  do not move /etc/passwd
  *  do not disable w1_therm on boot

 -- Evgeny Boger <boger@contactless.ru>  Mon, 09 Nov 2015 19:03:11 +0300

wb-configs (1.60) stable; urgency=medium

  * move /root to /mnt/data

 -- Evgeny Boger <boger@contactless.ru>  Wed, 04 Nov 2015 15:34:52 +0300

wb-configs (1.59) stable; urgency=medium

  * fix major bug

 -- Alexey Ignatov <lexszero@gmail.com>  Sun, 01 Nov 2015 17:22:50 +0000


wb-configs (1.58.1) stable; urgency=medium

  * proper handle hosts replacement

 -- Evgeny Boger <boger@contactless.ru>  Sun, 18 Oct 2015 01:49:28 +0300

wb-configs (1.58) stable; urgency=medium

  * minor fix for chroot_this

 -- Evgeny Boger <boger@contactless.ru>  Sat, 17 Oct 2015 16:19:30 +0300

wb-configs (1.57) stable; urgency=medium

  * move repo to /etc/apt/sources.list.d

 -- Alexey Ignatov <lexszero@gmail.com>  Mon, 28 Sep 2015 05:57:28 +0000

wb-configs (1.56) stable; urgency=medium

  * fixes

 -- Alexey Ignatov <lexszero@gmail.com>  Fri, 25 Sep 2015 18:47:34 +0000

wb-configs (1.55) stable; urgency=medium

  * add init script, move symlink management from wb-utils
  * /etc/wb-configs.d/ for lists of files to move to shared partition

 -- Alexey Ignatov <lexszero@gmail.com>  Fri, 25 Sep 2015 15:38:39 +0000

wb-configs (1.54) stable; urgency=medium

  * don't use cdbs

 -- Alexey Ignatov <lexszero@gmail.com>  Fri, 25 Sep 2015 15:16:45 +0000

wb-configs (1.53) stable; urgency=medium

  * remove rc.local

 -- Alexey Ignatov <lexszero@gmail.com>  Thu, 24 Sep 2015 07:27:42 +0000

wb-configs (1.52) stable; urgency=medium

  * fix rc.local to flawless run in chroot

 -- Alexey Ignatov <lexszero@gmail.com>  Wed, 23 Sep 2015 20:32:02 +0000

wb-configs (1.51) stable; urgency=medium

  * fix a few bugs in rc.local

 -- Alexey Ignatov <lexszero@gmail.com>  Wed, 23 Sep 2015 11:06:41 +0000

wb-configs (1.50) stable; urgency=medium

  * added partitions for fwupdate and redundancy
  * move some configs to /mnt/data and create symlink from /etc/rc.local
  * code cleanups
  * migrate to config-package-dev

 -- Alexey Ignatov <lexszero@gmail.com>  Wed, 23 Sep 2015 08:20:07 +0000

wb-configs (1.49) stable; urgency=medium

  * add /etc/gai.conf
  * minor fixes in chroot_this.sh

 -- Alexey Ignatov <lexszero@gmail.com>  Sun, 20 Sep 2015 20:56:01 +0000

wb-configs (1.48) stable; urgency=medium

  * fix rc.local

 -- Evgeny Boger <boger@contactless.ru>  Wed, 29 Apr 2015 19:25:24 +0300

wb-configs (1.47) stable; urgency=medium

  * fix rc.locl

 -- Evgeny Boger <boger@contactless.ru>  Tue, 28 Apr 2015 21:45:32 +0300

wb-configs (1.46) stable; urgency=medium

  * resize root partition on startup, create swap partition

 -- Evgeny Boger <boger@contactless.ru>  Tue, 28 Apr 2015 18:33:51 +0300

wb-configs (1.45) stable; urgency=medium

  * remove mosquitto.conf

 -- Evgeny Boger <boger@contactless.ru>  Fri, 24 Apr 2015 18:55:43 +0300

wb-configs (1.44) stable; urgency=medium

  * mosquitto config

 -- Evgeny Boger <boger@contactless.ru>  Thu, 23 Apr 2015 19:17:41 +0300

wb-configs (1.43) stable; urgency=medium

  * automatically repair filesystems with inconsistencies during boot

 -- Evgeny Boger <boger@contactless.ru>  Wed, 18 Mar 2015 14:11:20 +0300

wb-configs (1.42) stable; urgency=medium

  * Add options smsc95xx turbo_mode=N  (http://raspberrypi.stackexchange.com/questions/4958/networks-drops-and-freezes)

 -- Evgeny Boger <boger@contactless.ru>  Mon, 09 Feb 2015 20:38:50 +0300

wb-configs (1.041) stable; urgency=medium

  * prevent /boot/uEnv.txt from being deleted

 -- Evgeny Boger <boger@contactless.ru>  Tue, 18 Nov 2014 18:27:56 +0300

wb-configs (1.04) stable; urgency=medium

  * support images with no netplug installed

 -- Evgeny Boger <boger@contactless.ru>  Fri, 07 Nov 2014 03:37:51 +0300

wb-configs (1.03) stable; urgency=medium

  * add kernel postinst to make zImage symlink

 -- Evgeny Boger <boger@contactless.ru>  Thu, 06 Nov 2014 23:09:28 +0300

wb-configs (1.02) stable; urgency=medium

  * remove /boot/uEnv.txt

 -- Evgeny Boger <boger@contactless.ru>  Thu, 06 Nov 2014 18:57:50 +0300

wb-configs (1.01) stable; urgency=medium

  * Remove mosquitto.conf

 -- Evgeny Boger <boger@contactless.ru>  Mon, 22 Sep 2014 18:54:42 +0400

wb-configs (1.00) unstable; urgency=low

  * Initial Release.

 -- Evgeny Boger <boger@contactless.ru>  Mon, 22 Sep 2014 18:54:35 +0400
